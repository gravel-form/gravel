{"version":3,"sources":["compose.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,2CAA+B;AAM/B,SAAwB,OAAO,CAA4B,OAAiC;IAC1F,IAAM,QAAQ,GAAgB,UAAC,KAAK;QAClC,IAAM,QAAQ,GAA0D,UAAC,SAAS,EAAE,CAAC;YACnF,IAAM,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,IAAI,OAAO,CAAC,MAAM;gBAAE,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAC1E,IAAM,EAAE,yBACH,SAAS,KACZ,IAAI,EAAE,UAAC,MAAS,IAAK,OAAA,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,EAAvB,CAAuB,GAC7C,CAAC;YACF,OAAO,oBAAC,MAAM,eAAK,EAAE,EAAI,CAAC;QAC5B,CAAC,CAAC;QACF,OAAO,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC5B,CAAC,CAAC;IACF,OAAO,QAAQ,CAAC;AAClB,CAAC;AAdD,0BAcC","file":"compose.js","sourcesContent":["import * as React from 'react';\n\nexport interface MiddlewareProps {\n  next: (props: any) => React.ReactElement | null;\n}\n\nexport default function compose<P extends MiddlewareProps>(widgets: React.ComponentType<P>[]): React.FC<P> {\n  const Composed: React.FC<P> = (props) => {\n    const dispatch: (nextProp: P, i: number) => React.ReactElement | null = (nextProps, i) => {\n      const Widget = widgets[i];\n      if (i >= widgets.length) return props.next ? props.next(nextProps) : null;\n      const pp: P = {\n        ...nextProps,\n        next: (_props: P) => dispatch(_props, i + 1),\n      };\n      return <Widget {...pp} />;\n    };\n    return dispatch(props, 0);\n  };\n  return Composed;\n}\n"]}